<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/style.css">
    <title>Mentor App</title>
    <style>
        .btn-selected {
            background-color: #00ff00; /* Change this to the desired color */
        }
    </style>
</head>
<body>
    <header>
        <h1>Mentor App</h1>
    </header>
    <main>
        <!-- Loop through problems and create a button for each -->
        {% for problem in problems %}
            <a href="/edit_block/{{ problem[0] }}" class="btn" onclick="markSelected(this)">{{ problem[1] }} - {{ problem[2] }}</a>
        {% endfor %}
    </main>

    <script>
        function markSelected(button) {
            var buttons = document.querySelectorAll('.btn');
            buttons.forEach(function (btn) {
                btn.classList.remove('btn-selected');
            });

            button.classList.add('btn-selected');

            // Send an AJAX request to notify the server about the selected button
            var problemId = button.href.split('/').pop();
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/update_selected_problem/' + problemId, true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.send(JSON.stringify({ selected: true }));
        }
    </script>
</body>
</html>
